(function(e){function t(t){for(var r,a,i=t[0],s=t[1],u=t[2],d=0,l=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&l.push(c[a][0]),c[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==c[i]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},c={app:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-f88b53c8":"58930826","chunk-2d21a3d2":"99d76a7f","chunk-70c67224":"0f36fb13","chunk-4753802c":"24c9ef81","chunk-171c7a44":"aadcbd8d","chunk-31e379f3":"ed59e00e","chunk-4af05d5b":"29ddf74e","chunk-4e9bb93b":"5820ac37","chunk-c19a33f4":"c1a62ced","chunk-ef73565c":"c782c80c","chunk-efa2862e":"d2c038d1","chunk-72410f3e":"841c5476","chunk-7264e35e":"e03aad2b"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-f88b53c8":1,"chunk-70c67224":1,"chunk-4753802c":1,"chunk-171c7a44":1,"chunk-31e379f3":1,"chunk-4af05d5b":1,"chunk-4e9bb93b":1,"chunk-c19a33f4":1,"chunk-72410f3e":1,"chunk-7264e35e":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-f88b53c8":"85e964b6","chunk-2d21a3d2":"31d6cfe0","chunk-70c67224":"6d26794d","chunk-4753802c":"eca48623","chunk-171c7a44":"d201b18f","chunk-31e379f3":"543018c6","chunk-4af05d5b":"d201b18f","chunk-4e9bb93b":"a9ece7ec","chunk-c19a33f4":"0a99b966","chunk-ef73565c":"31d6cfe0","chunk-efa2862e":"31d6cfe0","chunk-72410f3e":"572b7a25","chunk-7264e35e":"572b7a25"}[e]+".css",c=s.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===c))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){u=l[i],d=u.getAttribute("data-href");if(d===r||d===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=c;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=i(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}c[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/thread-admin/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"db",(function(){return J})),n.d(t,"fs",(function(){return X})),n.d(t,"fa",(function(){return Q}));n("4de4"),n("96cf");var r=n("1da1"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[e._l(e.links,(function(t){return n("v-list-item",{key:t.title,attrs:{to:t.url}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),e.isUserLoggedIn?n("v-list-item",{on:{click:e.onLogout}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(e.mdiLogoutVariant))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Logout")])],1)],1):e._e()],2)],1),n("v-app-bar",{attrs:{app:"",color:"indigo",dark:""}},[n("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",[n("a",{staticClass:"white--text text-decoration-none",attrs:{href:"https://vgaimanovskyi.github.io/thread-master/",target:"_black"}},[e._v("Thread-master")])]),n("v-spacer"),n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[e._l(e.links,(function(t){return n("v-btn",{key:t.title,attrs:{"x-small":"",to:t.url,text:""}},[n("v-icon",{attrs:{left:""}},[e._v(e._s(t.icon))]),e._v(" "+e._s(t.title)+" ")],1)})),e.isUserLoggedIn?n("v-btn",{attrs:{"x-small":"",text:""},on:{click:e.onLogout}},[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiLogoutVariant))]),e._v("Logout ")],1):e._e()],2)],1),n("v-main",[n("router-view")],1),n("v-footer",{attrs:{color:"indigo",app:""}},[n("span",{staticClass:"text-body-2 white--text d-flex align-center"},[e._v(" © "),n("v-btn",{staticClass:"px-2 text-body-2",attrs:{href:"https://github.com/vgaimanovskyi",text:"",target:"_blank",color:"white"}},[e._v("Vadym Haimanovskyi")]),e._v(" "+e._s((new Date).getFullYear())+" ")],1)]),e.error?[n("v-snackbar",{attrs:{color:"error","multi-line":!0,timeout:5e3,value:!0},on:{input:function(t){e.snackbar=!1}},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{dark:"",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v("Close")])]}}],null,!1,2511993107)},[e._v(" "+e._s(e.error)+" ")])]:e._e(),n("v-btn",{attrs:{fixed:"",dark:"",fab:"",bottom:"",right:"",color:"pink"},on:{click:e.scrollTop}},[n("v-icon",[e._v("mdi-arrow-up")])],1)],2)},o=[],i=n("94ed"),s={data:function(){return{drawer:!1,mdiLogoutVariant:i["e"]}},computed:{error:function(){return this.$store.getters.getError},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){return this.isUserLoggedIn?[{title:"Заказы",icon:i["a"],url:"/orders"},{title:"Отзывы",icon:i["f"],url:"/reviews"},{title:"Товар",icon:i["b"],url:"/products"},{title:"Новый товар",icon:i["c"],url:"/add-product"},{title:"Видео",icon:i["g"],url:"/videos"},{title:"Новое видео",icon:i["h"],url:"/add-video"}]:[{title:"Login",icon:i["d"],url:"/login"}]}},methods:{closeError:function(){this.$store.dispatch("clearError")},onLogout:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logoutUser");case 2:e.$router.push("/login");case 3:case"end":return t.stop()}}),t)})))()},scrollTop:function(){window.scrollTo({top:0,behavior:"smooth"})}}},u=s,d=(n("5c0b"),n("2877")),l=n("6544"),f=n.n(l),p=n("7496"),m=n("40dc"),h=n("5bc1"),v=n("8336"),g=n("553a"),E=n("132d"),b=n("8860"),R=n("da13"),k=n("1800"),_=n("5d23"),O=n("f6c4"),w=n("f774"),x=n("2db4"),S=n("2fa4"),T=n("2a7f"),D=Object(d["a"])(u,c,o,!1,null,null,null),I=D.exports;f()(D,{VApp:p["a"],VAppBar:m["a"],VAppBarNavIcon:h["a"],VBtn:v["a"],VFooter:g["a"],VIcon:E["a"],VList:b["a"],VListItem:R["a"],VListItemAction:k["a"],VListItemContent:_["a"],VListItemTitle:_["b"],VMain:O["a"],VNavigationDrawer:w["a"],VSnackbar:x["a"],VSpacer:S["a"],VToolbarItems:T["a"],VToolbarTitle:T["b"]});n("a4d3"),n("e01a"),n("99af"),n("7db0"),n("c740"),n("4160"),n("caad"),n("baa5"),n("fb6a"),n("a434"),n("b0c0"),n("b64b"),n("d3b7"),n("2532"),n("159b"),n("ddb0");var L=n("3835"),A=n("b85c"),y=n("2f62"),N={state:{loading:!1,error:null},mutations:{SET_LOADING:function(e,t){e.loading=t},SET_ERROR:function(e,t){e.error=t},CLEAR_ERROR:function(e){e.error=null}},actions:{loading:function(e,t){var n=e.commit;n("SET_LOADING",t)},error:function(e,t){var n=e.commit;n("SET_ERROR",t)},clearError:function(e){var t=e.commit;t("CLEAR_ERROR")}},getters:{getLoading:function(e){return e.loading},getError:function(e){return e.error}}},G={state:{user:null},mutations:{SET_USER:function(e,t){e.user=t}},actions:{loginUser:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,c=t.email,o=t.password,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=4,n.next=7,Q.signInWithEmailAndPassword(c,o);case 7:return n.next=9,a("getUid");case 9:i=n.sent,localStorage.setItem("admin",i),r("SET_USER",i),r("SET_LOADING",!1),n.next=20;break;case 15:throw n.prev=15,n.t0=n["catch"](4),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 20:case"end":return n.stop()}}),n,null,[[4,15]])})))()},getUid:function(){var e=Q.currentUser;return e?e.uid:null},autoLoginUser:function(e){var t=e.commit,n=localStorage.getItem("admin");t("SET_USER",n)},logoutUser:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,localStorage.removeItem("admin"),t.next=4,Q.signOut();case 4:n("SET_USER",null);case 5:case"end":return t.stop()}}),t)})))()}},getters:{getUser:function(e){return e.user},isUserLoggedIn:function(e){return null!==e.user}}},P={state:{orders:[]},mutations:{SET_ORDERS:function(e,t){e.orders=t.sort((function(e,t){return new Date(t.cartData.date)-new Date(e.cartData.date)}))},SET_ORDER_DONE:function(e,t){e.orders.find((function(e){e.id===t&&(e.cartData.done=!0)}))},SET_ORDER_REMOVE:function(e,t){var n=e.orders.findIndex((function(e){return e.id===t}));e.orders.splice(n,1)}},actions:{fetchOrders:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=[],n("CLEAR_ERROR"),n("SET_LOADING",!0),t.prev=4,t.next=7,J.ref("orders").once("value");case 7:a=t.sent,c=a.val(),Object.keys(c).forEach((function(e){var t=c[e];r.push({id:e,cartData:t.cartData,customerData:t.customerData,deliveryData:t.deliveryData,productsData:t.productsData})})),n("SET_ORDERS",r),n("SET_LOADING",!1),t.next=19;break;case 14:throw t.prev=14,t.t0=t["catch"](4),n("SET_ERROR",t.t0.message),n("SET_LOADING",!1),t.t0;case 19:case"end":return t.stop()}}),t,null,[[4,14]])})))()},orderDone:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=3,n.next=6,J.ref("orders/".concat(t)).child("cartData").update({done:!0});case 6:r("SET_ORDER_DONE",t),r("SET_LOADING",!1),n.next=15;break;case 10:throw n.prev=10,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 15:case"end":return n.stop()}}),n,null,[[3,10]])})))()},orderRemove:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=3,n.next=6,J.ref("orders/".concat(t)).remove();case 6:r("SET_ORDER_REMOVE",t),r("SET_LOADING",!1),n.next=15;break;case 10:throw n.prev=10,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 15:case"end":return n.stop()}}),n,null,[[3,10]])})))()}},getters:{getOrders:function(e){return e.orders}}},U={state:{reviews:[]},mutations:{SET_REVIEWS:function(e,t){e.reviews=t.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))},SET_REVIEW_DONE:function(e,t){e.reviews.find((function(e){e.id===t&&(e.done=!0)}))},SET_REVIEW_REMOVE:function(e,t){var n=e.reviews.findIndex((function(e){return e.id===t}));e.reviews.splice(n,1)}},actions:{fetchReviews:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=[],n("CLEAR_ERROR"),n("SET_LOADING",!0),t.prev=4,t.next=7,J.ref("reviews").once("value");case 7:a=t.sent,c=a.val(),Object.keys(c).forEach((function(e){var t=c[e];r.push({id:e,yourname:t.yourname,tel:t.tel,email:t.email,date:t.date,comment:t.comment,checkbox:t.checkbox,done:t.done,fileUrl:t.fileUrl})})),n("SET_REVIEWS",r),n("SET_LOADING",!1),t.next=19;break;case 14:throw t.prev=14,t.t0=t["catch"](4),n("SET_ERROR",t.t0.message),n("SET_LOADING",!1),t.t0;case 19:case"end":return t.stop()}}),t,null,[[4,14]])})))()},reviewDone:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=3,n.next=6,J.ref("reviews/".concat(t)).update({done:!0});case 6:r("SET_REVIEW_DONE",t),r("SET_LOADING",!1),n.next=15;break;case 10:throw n.prev=10,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 15:case"end":return n.stop()}}),n,null,[[3,10]])})))()},reviewRemove:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=3,n.next=6,J.ref("reviews/".concat(t)).child("fileUrl").once("value");case 6:if(a=n.sent,console.log("fileUrlVal",a),c=a.val(),console.log("fileUrl",c),!c){n.next=15;break}return o=X.refFromURL(c),console.log("file",o),n.next=15,o.delete();case 15:return console.log("review file deleted from the storage"),n.next=18,J.ref("reviews/".concat(t)).remove();case 18:r("SET_REVIEW_REMOVE",t),r("SET_LOADING",!1),n.next=27;break;case 22:throw n.prev=22,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 27:case"end":return n.stop()}}),n,null,[[3,22]])})))()}},getters:{getReviews:function(e){return e.reviews}}},V={state:{videos:[],video:{}},mutations:{SET_VIDEOS:function(e,t){e.videos=t},SET_VIDEO_REMOVE:function(e,t){var n=e.videos.findIndex((function(e){return e.id===t}));e.videos.splice(n,1)},SET_VIDEO_UPDATE:function(e,t){var n=e.videos.findIndex((function(e){return e.id===t.id}));e.videos.splice(n,1,t)},SET_VIDEO_BY_ID:function(e,t){e.video=e.videos.find((function(e){return e.id===t}))}},actions:{fetchAllVideos:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=[],n("CLEAR_ERROR"),n("SET_LOADING",!0),t.prev=4,t.next=7,J.ref("videos").once("value");case 7:a=t.sent,c=a.val(),Object.keys(c).forEach((function(e){var t=c[e];r.unshift({id:e,video:t.video,name:t.name,catId:t.catId})})),n("SET_VIDEOS",r),n("SET_LOADING",!1),t.next=19;break;case 14:throw t.prev=14,t.t0=t["catch"](4),n("SET_ERROR",t.t0.message),n("SET_LOADING",!1),t.t0;case 19:case"end":return t.stop()}}),t,null,[[4,14]])})))()},updateVideo:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=3,n.next=6,J.ref("videos/".concat(t.id)).update({video:t.video,name:t.name});case 6:r("SET_VIDEO_UPDATE",t),r("SET_LOADING",!1),n.next=15;break;case 10:throw n.prev=10,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 15:case"end":return n.stop()}}),n,null,[[3,10]])})))()},videoRemove:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=3,n.next=6,J.ref("videos/".concat(t)).remove();case 6:r("SET_VIDEO_REMOVE",t),r("SET_LOADING",!1),n.next=15;break;case 10:throw n.prev=10,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 15:case"end":return n.stop()}}),n,null,[[3,10]])})))()},addNewVideo:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=3,n.next=6,J.ref("videos").push(t);case 6:r("SET_LOADING",!1),n.next=14;break;case 9:throw n.prev=9,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 14:case"end":return n.stop()}}),n,null,[[3,9]])})))()},videoById:function(e,t){var n=e.commit;n("SET_VIDEO_BY_ID",t)}},getters:{getVideos:function(e){return e.videos},getVideoById:function(e){return e.video}}};a["a"].use(y["a"]);var j=new y["a"].Store({state:{categories:[{id:"00",name:"все"},{id:"01",name:"абстрактные картины"},{id:"02",name:"интерьерные картины"},{id:"03",name:"столы"},{id:"04",name:"фоторамки"},{id:"09",name:"видео"}],products:[],product:{}},mutations:{SET_PRODUCTS:function(e,t){e.products=t},SET_PRODUCT_REMOVE:function(e,t){var n=e.products.findIndex((function(e){return e.id===t}));e.products.splice(n,1)},SET_PRODUCT_UPDATE:function(e,t){var n=e.products.findIndex((function(e){return e.id===t.id}));e.products.splice(n,1,t)},SET_PRODUCT_BY_ID:function(e,t){e.product=e.products.find((function(e){return e.id===t}))}},actions:{fetchAllProducts:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=[],n("CLEAR_ERROR"),n("SET_LOADING",!0),t.prev=4,t.next=7,J.ref("products").once("value");case 7:a=t.sent,c=a.val(),Object.keys(c).forEach((function(e){var t=c[e];r.push({id:e,available:t.available,catId:t.catId,description:t.description,discount:t.discount,material:t.material,name:t.name,new:t.new,price:t.price,size:t.size,urlGallery:t.urlGallery,urlPoster:t.urlPoster,urlShop:t.urlShop})})),n("SET_PRODUCTS",r),n("SET_LOADING",!1),t.next=19;break;case 14:throw t.prev=14,t.t0=t["catch"](4),n("SET_ERROR",t.t0.message),n("SET_LOADING",!1),t.t0;case 19:case"end":return t.stop()}}),t,null,[[4,14]])})))()},addNewProduct:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o,i,s,u,d,l,f,p,m,h,v,g,E,b,R,k,_,O,w,x,S,T,D,I;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),a=t.poster,c=t.gallery,o=t.shop,i={name:t.name,material:t.material,catId:t.catId,size:t.size,price:t.price,discount:t.discount,new:t.new,description:t.description,available:t.available,urlPoster:"",urlGallery:[],urlShop:[]},n.prev=7,n.next=10,J.ref("products").push(i);case 10:return s=n.sent,u=a.name.slice(a.name.lastIndexOf(".")),d=X.ref("products/".concat(s.key,"/poster/","poster").concat(u)),n.next=15,d.put(a);case 15:return n.next=17,d.getDownloadURL();case 17:l=n.sent,f=[],p=Object(A["a"])(c.entries()),n.prev=20,p.s();case 22:if((m=p.n()).done){n.next=34;break}return h=Object(L["a"])(m.value,2),v=h[0],g=h[1],E=g.name.slice(g.name.lastIndexOf(".")),b=X.ref("products/".concat(s.key,"/gallery/").concat(v).concat(E)),n.next=28,b.put(g);case 28:return n.next=30,b.getDownloadURL();case 30:R=n.sent,f.push(R);case 32:n.next=22;break;case 34:n.next=39;break;case 36:n.prev=36,n.t0=n["catch"](20),p.e(n.t0);case 39:return n.prev=39,p.f(),n.finish(39);case 42:k=[],_=Object(A["a"])(o.entries()),n.prev=44,_.s();case 46:if((O=_.n()).done){n.next=58;break}return w=Object(L["a"])(O.value,2),x=w[0],S=w[1],T=S.name.slice(S.name.lastIndexOf(".")),D=X.ref("products/".concat(s.key,"/shop/").concat(x).concat(T)),n.next=52,D.put(S);case 52:return n.next=54,D.getDownloadURL();case 54:I=n.sent,k.push(I);case 56:n.next=46;break;case 58:n.next=63;break;case 60:n.prev=60,n.t1=n["catch"](44),_.e(n.t1);case 63:return n.prev=63,_.f(),n.finish(63);case 66:return n.next=68,J.ref("products").child(s.key).update({urlPoster:l,urlGallery:f,urlShop:k});case 68:console.log("new product pushed"),r("SET_LOADING",!1),n.next=77;break;case 72:throw n.prev=72,n.t2=n["catch"](7),r("SET_ERROR",n.t2.message),r("SET_LOADING",!1),n.t2;case 77:case"end":return n.stop()}}),n,null,[[7,72],[20,36,39,42],[44,60,63,66]])})))()},productRemove:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o,i,s,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),n.prev=3,n.next=6,J.ref("products/".concat(t)).child("urlPoster").once("value");case 6:return a=n.sent,c=a.val(),o=X.refFromURL(c),n.next=11,o.delete();case 11:return console.log("poster deleted from the storage"),n.next=14,J.ref("products/".concat(t)).child("urlGallery").once("value");case 14:return i=n.sent,s=i.val(),s.forEach((function(e){var t=X.refFromURL(e);t.delete()})),console.log("gallery images deleted from the storage"),n.next=20,J.ref("products/".concat(t)).child("urlShop").once("value");case 20:return u=n.sent,d=u.val(),d.forEach((function(e){var t=X.refFromURL(e);t.delete()})),console.log("shop images deleted from the storage"),n.next=26,J.ref("products/".concat(t)).remove();case 26:console.log("product removed from db"),r("SET_PRODUCT_REMOVE",t),r("SET_LOADING",!1),n.next=36;break;case 31:throw n.prev=31,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),r("SET_LOADING",!1),n.t0;case 36:case"end":return n.stop()}}),n,null,[[3,31]])})))()},updateProduct:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o,i,s,u,d,l,f,p,m,h,v,g,E,b,R,k,_,O,w,x,S,T,D,I,y,N,G,P,U,V,j,C,B,F,M,z,$,W,Y,q,H,K,Q,Z,ee,te;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),a=t.urlPoster,c=t.urlGallery,o=t.urlShop,i={name:t.name,catId:t.catId,available:t.available,material:t.material,size:t.size,price:t.price,discount:t.discount,new:t.new,description:t.description},n.prev=7,n.next=10,J.ref("products/".concat(t.id)).update(i);case 10:if(i["id"]=t.id,"string"!==typeof a){n.next=17;break}return n.next=14,J.ref("products/".concat(t.id)).update({urlPoster:a});case 14:i["urlPoster"]=a,n.next=35;break;case 17:return n.next=19,J.ref("products/".concat(t.id)).child("urlPoster").once("value");case 19:return s=n.sent,u=s.val(),d=X.refFromURL(u),n.next=24,d.delete();case 24:return console.log("old poster deleted from the storage"),l=a.name.slice(a.name.lastIndexOf(".")),f=X.ref("products/".concat(t.id,"/poster/","poster").concat(l)),n.next=29,f.put(a);case 29:return n.next=31,f.getDownloadURL();case 31:return p=n.sent,n.next=34,J.ref("products/".concat(t.id)).update({urlPoster:p});case 34:i["urlPoster"]=p;case 35:console.log("poster updated"),m=[],h=Object(A["a"])(c.entries()),n.prev=38,h.s();case 40:if((v=h.n()).done){n.next=56;break}if(g=Object(L["a"])(v.value,2),E=g[0],b=g[1],"string"!==typeof b){n.next=46;break}m.push(b),n.next=54;break;case 46:return R=b.name.slice(b.name.lastIndexOf(".")),k=X.ref("products/".concat(t.id,"/gallery/").concat(E).concat(R)),n.next=50,k.put(b);case 50:return n.next=52,k.getDownloadURL();case 52:_=n.sent,m.push(_);case 54:n.next=40;break;case 56:n.next=61;break;case 58:n.prev=58,n.t0=n["catch"](38),h.e(n.t0);case 61:return n.prev=61,h.f(),n.finish(61);case 64:return n.next=66,J.ref("products/".concat(t.id)).update({urlGallery:m});case 66:return i["urlGallery"]=m,console.log("gallery updated"),O=[],n.next=71,X.ref("products/".concat(t.id,"/gallery")).listAll();case 71:w=n.sent,x=Object(A["a"])(w.items),n.prev=73,x.s();case 75:if((S=x.n()).done){n.next=83;break}return T=S.value,n.next=79,T.getDownloadURL();case 79:D=n.sent,O.push(D);case 81:n.next=75;break;case 83:n.next=88;break;case 85:n.prev=85,n.t1=n["catch"](73),x.e(n.t1);case 88:return n.prev=88,x.f(),n.finish(88);case 91:I=0,y=O;case 92:if(!(I<y.length)){n.next=101;break}if(N=y[I],m.includes(N)){n.next=98;break}return G=X.refFromURL(N),n.next=98,G.delete();case 98:I++,n.next=92;break;case 101:console.log("old gallery photos deleted from the storage"),P=[],U=Object(A["a"])(o.entries()),n.prev=104,U.s();case 106:if((V=U.n()).done){n.next=122;break}if(j=Object(L["a"])(V.value,2),C=j[0],B=j[1],"string"!==typeof B){n.next=112;break}P.push(B),n.next=120;break;case 112:return F=B.name.slice(B.name.lastIndexOf(".")),M=X.ref("products/".concat(t.id,"/shop/").concat(C).concat(F)),n.next=116,M.put(B);case 116:return n.next=118,M.getDownloadURL();case 118:z=n.sent,P.push(z);case 120:n.next=106;break;case 122:n.next=127;break;case 124:n.prev=124,n.t2=n["catch"](104),U.e(n.t2);case 127:return n.prev=127,U.f(),n.finish(127);case 130:return n.next=132,J.ref("products/".concat(t.id)).update({urlShop:P});case 132:return i["urlShop"]=P,console.log("shop updated"),$=[],n.next=137,X.ref("products/".concat(t.id,"/shop")).listAll();case 137:W=n.sent,Y=Object(A["a"])(W.items),n.prev=139,Y.s();case 141:if((q=Y.n()).done){n.next=149;break}return H=q.value,n.next=145,H.getDownloadURL();case 145:K=n.sent,$.push(K);case 147:n.next=141;break;case 149:n.next=154;break;case 151:n.prev=151,n.t3=n["catch"](139),Y.e(n.t3);case 154:return n.prev=154,Y.f(),n.finish(154);case 157:Q=0,Z=$;case 158:if(!(Q<Z.length)){n.next=167;break}if(ee=Z[Q],P.includes(ee)){n.next=164;break}return te=X.refFromURL(ee),n.next=164,te.delete();case 164:Q++,n.next=158;break;case 167:console.log("old shop photos deleted from the storage"),r("SET_PRODUCT_UPDATE",i),r("SET_LOADING",!1),n.next=177;break;case 172:throw n.prev=172,n.t4=n["catch"](7),r("SET_ERROR",n.t4.message),r("SET_LOADING",!1),n.t4;case 177:case"end":return n.stop()}}),n,null,[[7,172],[38,58,61,64],[73,85,88,91],[104,124,127,130],[139,151,154,157]])})))()},productById:function(e,t){var n=e.commit;n("SET_PRODUCT_BY_ID",t)}},getters:{getCategories:function(e){return e.categories.filter((function(e){return"00"!==e.id&&"09"!==e.id}))},getProducts:function(e){return e.products},getProductById:function(e){return e.product}},modules:{shared:N,login:G,orders:P,reviews:U,videos:V}}),C=(n("45fc"),n("8c4f"));a["a"].use(C["a"]);var B=[{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-70c67224"),n.e("chunk-c19a33f4")]).then(n.bind(null,"d60c"))}},{path:"/",name:"Home",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-2d21a3d2")]).then(n.bind(null,"bb51"))}},{path:"/orders",name:"Orders",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-72410f3e")]).then(n.bind(null,"159d"))}},{path:"/products",name:"Products",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-70c67224"),n.e("chunk-4753802c"),n.e("chunk-4e9bb93b")]).then(n.bind(null,"faee"))}},{path:"/product/:id",name:"Product",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-70c67224"),n.e("chunk-4753802c"),n.e("chunk-171c7a44")]).then(n.bind(null,"e136"))}},{path:"/add-product",name:"Add-product",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-70c67224"),n.e("chunk-4753802c"),n.e("chunk-4af05d5b")]).then(n.bind(null,"67a2"))}},{path:"/videos",name:"Videos",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-70c67224"),n.e("chunk-4753802c"),n.e("chunk-31e379f3")]).then(n.bind(null,"1932"))}},{path:"/video/:id",name:"Video",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-70c67224"),n.e("chunk-ef73565c")]).then(n.bind(null,"d171"))}},{path:"/add-video",name:"Add-video",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-70c67224"),n.e("chunk-efa2862e")]).then(n.bind(null,"0482"))}},{path:"/reviews",name:"Reviews",meta:{auth:!0},component:function(){return Promise.all([n.e("chunk-f88b53c8"),n.e("chunk-7264e35e")]).then(n.bind(null,"2e51"))}}],F=new C["a"]({mode:"hash",base:"/thread-admin/",routes:B});F.beforeEach((function(e,t,n){var r=e.matched.some((function(e){return e.meta.auth}));r&&!localStorage.getItem("admin")?n("/login"):n()}));var M=F,z=n("f309");a["a"].use(z["a"]);var $=new z["a"]({icons:{iconfont:"mdi"}});function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",n={};return t.includes("date")&&(n.day="2-digit",n.month="long",n.year="numeric"),t.includes("time")&&(n.hour="2-digit",n.minute="2-digit",n.second="2-digit"),new Intl.DateTimeFormat("ua-UA",n).format(new Date(e))}var Y=n("58ca"),q=n("9483");Object(q["a"])("".concat("/thread-admin/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var H=n("59ca");n("66ce"),n("588e"),n("ea7b");a["a"].config.productionTip=!1,a["a"].filter("date",W),a["a"].use(Y["a"]),H["initializeApp"]({apiKey:"AIzaSyC8Cd8xpvEKXh8vjvMtpTB0fdcP7wzBRGc",authDomain:"threadmaster-affcd.firebaseapp.com",databaseURL:"https://threadmaster-affcd.firebaseio.com",projectId:"threadmaster-affcd",storageBucket:"threadmaster-affcd.appspot.com",messagingSenderId:"351973733556",appId:"1:351973733556:web:8b22c8303ca8d9a03a93e1",measurementId:"G-BCF66P2GP6"});var K,J=H["database"](),X=H["storage"](),Q=H["auth"]();H["auth"]().onAuthStateChanged((function(){K||(K=new a["a"]({router:M,store:j,vuetify:$,render:function(e){return e(I)},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("autoLoginUser");case 2:case"end":return t.stop()}}),t)})))()}}).$mount("#app"))}))},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"9c0c":function(e,t,n){}});
//# sourceMappingURL=app.2ea8ccd8.js.map